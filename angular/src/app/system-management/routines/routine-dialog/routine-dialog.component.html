<h1 mat-dialog-title>
  <ng-container *ngIf="!data">添加一个日常工作项类别</ng-container>
  <ng-container *ngIf="data">管理日常工作项</ng-container>
</h1>
<form #routineForm="ngForm" (ngSubmit)="save()">
  <mat-dialog-content>
    <div class="row" *ngIf="model">
      <div class="col-xs-12 col-sm-12">
        <mat-form-field appearance="standard">
          <mat-label>类别名</mat-label>
          <input matInput placeholder="请输入类别名" [(ngModel)]="model.name" name="name" required>
        </mat-form-field>
      </div>
      <div class="col-xs-12 col-sm-12">
        <mat-form-field appearance="standard">
          <mat-label>类别描述</mat-label>
          <input matInput placeholder="请输入类别描述" [(ngModel)]="model.description" name="description">
        </mat-form-field>
      </div>
    </div>

    <div class="row" *ngIf="data">
      <div class="col-xs-12 col-sm-12">
        <mat-form-field appearance="standard">
          <mat-label>搜索工作项</mat-label>
          <input matInput type="text" name="SearchKey" #searchBox
                 (input)="searchTaskItems(searchBox.value)" placeholder="搜索工作项">
        </mat-form-field>
      </div>
      <div class="col-xs-12 col-sm-12 m-t-5 m-b-5">
        <mat-chip-list>
          <mat-chip (click)="unBindTaskItem(b)" *ngFor="let b of bindings" color="primary"
                    selected>{{b.taskItem.name}}</mat-chip>
        </mat-chip-list>
      </div>
      <div class="col-xs-12 col-sm-12 m-t-5 m-b-5">
        <mat-chip-list>
          <mat-chip (click)="bindTaskItem(b)" *ngFor="let b of unBindings">{{b.name}}</mat-chip>
        </mat-chip-list>
      </div>
    </div>
  </mat-dialog-content>
  <mat-dialog-actions align="end">
    <button type="button" mat-button mat-dialog-close>关闭</button>
    <button type="submit" mat-button color="primary" [disabled]="routineForm.invalid">保存</button>
  </mat-dialog-actions>
</form>
